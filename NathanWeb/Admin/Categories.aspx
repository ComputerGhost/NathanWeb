<%@ Page Title="" Language="C#" MasterPageFile="~/Admin/Admin.Master" AutoEventWireup="false" CodeBehind="Categories.aspx.cs" Inherits="NathanWeb.Admin.Categories" %>
<asp:Content ID="Content1" ContentPlaceHolderID="phContent" runat="server">
<main>
    <h1>Categories</h1>

    <form runat="server">

        <asp:Button ID="btnAdd" runat="server" Text="Add Category" OnClick="btnAdd_Click"/>

        <asp:GridView ID="gvCategories" runat="server" DataSourceID="dsCategories"
            DataKeyNames="id" AutoGenerateEditButton="true" AutoGenerateDeleteButton="true"
            BorderStyle="None" CssClass="gridview" />
        <asp:SqlDataSource ID="dsCategories" runat="server" ConnectionString="<%$ ConnectionStrings:dbConnection %>"
            SelectCommand="SELECT id,orderBy,name,active FROM categories ORDER BY active,orderBy"
            UpdateCommand="UPDATE categories SET orderBy=@orderBy,name=@name,active=@active WHERE id=@id"
            DeleteCommand="DELETE FROM categories WHERE id=@id" />
    </form>

</main>
</asp:Content>
